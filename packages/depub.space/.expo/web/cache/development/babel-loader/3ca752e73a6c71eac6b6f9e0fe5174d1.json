{"ast":null,"code":"import _defineProperty from \"/media/disk1/projects/depub.space/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"/media/disk1/projects/depub.space/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _slicedToArray from \"/media/disk1/projects/depub.space/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/slicedToArray\";\nvar _excluded = [\"style\", \"ratio\", \"children\"];\n\nvar _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { forwardRef, memo } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { default as Box } from \"../../primitives/Box\";\nimport { useHasResponsiveProps } from \"../../../hooks/useHasResponsiveProps\";\nimport { usePropsResolution } from \"../../../hooks\";\nvar AspectView = forwardRef(_c = _s(function (props, ref) {\n  _s();\n\n  var _React$useState = React.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      layout = _React$useState2[0],\n      setLayout = _React$useState2[1];\n\n  var inputStyle = [StyleSheet.flatten(props.style) || {}];\n\n  if (layout) {\n    var _layout$width = layout.width,\n        width = _layout$width === void 0 ? 0 : _layout$width,\n        _layout$height = layout.height,\n        height = _layout$height === void 0 ? 0 : _layout$height;\n\n    if (width === 0) {\n      inputStyle.push({\n        width: height * props.aspectRatio,\n        height: height\n      });\n    } else {\n      inputStyle.push({\n        width: width,\n        height: width / props.aspectRatio\n      });\n    }\n  }\n\n  return React.createElement(Box, _extends({}, props, {\n    ref: ref,\n    style: inputStyle,\n    onLayout: function onLayout(_ref) {\n      var inLayout = _ref.nativeEvent.layout;\n      return setLayout(inLayout);\n    }\n  }));\n}, \"+ijqZkyHoWvZlcYU/vKMW3IEFys=\"));\n_c2 = AspectView;\n\nvar AspectRatio = function AspectRatio(props, ref) {\n  _s2();\n\n  var _usePropsResolution = usePropsResolution('AspectRatio', props, {}, {\n    resolveResponsively: ['ratio']\n  }),\n      style = _usePropsResolution.style,\n      ratio = _usePropsResolution.ratio,\n      children = _usePropsResolution.children,\n      resolvedProps = _objectWithoutProperties(_usePropsResolution, _excluded);\n\n  var computedStyle = style;\n  var newChildWithProps = React.cloneElement(children, _objectSpread(_objectSpread({}, children.props), {}, {\n    style: StyleSheet.absoluteFillObject\n  }), children.props.children);\n\n  if (useHasResponsiveProps(resolvedProps)) {\n    return null;\n  }\n\n  if (Platform.OS === 'web') {\n    return React.createElement(AspectView, _extends({}, resolvedProps, {\n      aspectRatio: ratio,\n      style: style,\n      ref: ref\n    }), newChildWithProps);\n  } else {\n    computedStyle = StyleSheet.flatten([style, {\n      aspectRatio: ratio\n    }]);\n    return React.createElement(Box, _extends({}, resolvedProps, {\n      style: computedStyle,\n      ref: ref\n    }), newChildWithProps);\n  }\n};\n\n_s2(AspectRatio, \"OKLmRCTPef+F5QEgCE7jiszoajY=\", false, function () {\n  return [usePropsResolution, useHasResponsiveProps];\n});\n\n_c3 = AspectRatio;\nexport default _c5 = memo(_c4 = forwardRef(AspectRatio));\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"AspectView$forwardRef\");\n$RefreshReg$(_c2, \"AspectView\");\n$RefreshReg$(_c3, \"AspectRatio\");\n$RefreshReg$(_c4, \"%default%$memo\");\n$RefreshReg$(_c5, \"%default%\");\n;\n\nvar _a, _b;\n\nif (typeof self !== 'undefined' && '$RefreshHelpers$' in self) {\n  var currentExports = module.__proto__.exports;\n  var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n  self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n\n  if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n    module.hot.dispose(function (data) {\n      data.prevExports = currentExports;\n    });\n    module.hot.accept();\n\n    if (prevExports !== null) {\n      if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n        module.hot.invalidate();\n      } else {\n        self.$RefreshHelpers$.scheduleUpdate();\n      }\n    }\n  } else {\n    var isNoLongerABoundary = prevExports !== null;\n\n    if (isNoLongerABoundary) {\n      module.hot.invalidate();\n    }\n  }\n}","map":{"version":3,"sources":["/media/disk1/projects/depub.space/node_modules/native-base/lib/module/components/composites/AspectRatio/index.js"],"names":["_extends","Object","i","arguments","source","target","default","AspectView","forwardRef","layout","setLayout","React","inputStyle","StyleSheet","props","width","height","ref","style","onLayout","inLayout","AspectRatio","ratio","children","resolvedProps","usePropsResolution","resolveResponsively","computedStyle","newChildWithProps","useHasResponsiveProps","Platform","aspectRatio","memo"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { forwardRef, memo } from 'react';\nimport { StyleSheet, Platform } from 'react-native';\nimport { default as Box } from '../../primitives/Box';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\nimport { usePropsResolution } from '../../../hooks';\nconst AspectView = /*#__PURE__*/forwardRef((props, ref) => {\n  const [layout, setLayout] = React.useState();\n  const inputStyle = [StyleSheet.flatten(props.style) || {}];\n\n  if (layout) {\n    // @ts-ignore\n    let {\n      width = 0,\n      height = 0\n    } = layout;\n\n    if (width === 0) {\n      inputStyle.push({\n        width: height * props.aspectRatio,\n        height\n      });\n    } else {\n      inputStyle.push({\n        width,\n        height: width / props.aspectRatio\n      });\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(Box, _extends({}, props, {\n    ref: ref,\n    style: inputStyle,\n    onLayout: ({\n      nativeEvent: {\n        layout: inLayout\n      }\n    }) => setLayout(inLayout)\n  }));\n});\n\nconst AspectRatio = (props, ref) => {\n  const {\n    style,\n    ratio,\n    children,\n    ...resolvedProps\n  } = usePropsResolution('AspectRatio', props, {}, {\n    resolveResponsively: ['ratio']\n  });\n  let computedStyle = style;\n  let newChildWithProps = /*#__PURE__*/React.cloneElement(children, { ...children.props,\n    style: StyleSheet.absoluteFillObject\n  }, children.props.children); //TODO: refactor for responsive prop\n\n  if (useHasResponsiveProps(resolvedProps)) {\n    return null;\n  } // DOC:  It uses a aspectRatio property of React Native and manually calculate on Web\n\n\n  if (Platform.OS === 'web') {\n    return /*#__PURE__*/React.createElement(AspectView, _extends({}, resolvedProps, {\n      aspectRatio: ratio,\n      style: style,\n      ref: ref\n    }), newChildWithProps);\n  } else {\n    computedStyle = StyleSheet.flatten([style, {\n      aspectRatio: ratio\n    }]);\n    return /*#__PURE__*/React.createElement(Box, _extends({}, resolvedProps, {\n      style: computedStyle,\n      ref: ref\n    }), newChildWithProps);\n  }\n};\n\nexport default /*#__PURE__*/memo( /*#__PURE__*/forwardRef(AspectRatio));\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"module"}