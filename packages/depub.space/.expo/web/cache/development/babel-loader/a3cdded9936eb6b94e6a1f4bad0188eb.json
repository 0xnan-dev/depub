{"ast":null,"code":"\"use strict\";\n\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\n\nvar _objectWithoutProperties = require(\"@babel/runtime/helpers/objectWithoutProperties\");\n\nvar _slicedToArray = require(\"@babel/runtime/helpers/slicedToArray\");\n\nvar _excluded = [\"children\", \"style\"],\n    _excluded2 = [\"height\", \"width\", \"arrowProps\", \"actualPlacement\", \"style\", \"borderColor\", \"backgroundColor\"];\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Popper = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _overlays = require(\"@react-native-aria/overlays\");\n\nvar _reactNative = require(\"react-native-web/dist/index\");\n\nvar _utils = require(\"../../../utils\");\n\nvar _Box = _interopRequireDefault(require(\"../../primitives/Box\"));\n\nvar _useHasResponsiveProps = require(\"../../../hooks/useHasResponsiveProps\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar defaultArrowHeight = 15;\nvar defaultArrowWidth = 15;\n\nvar getDiagonalLength = function getDiagonalLength(height, width) {\n  return Math.pow(height * height + width * width, 0.5);\n};\n\nvar _ref = (0, _utils.createContext)('PopperContext'),\n    _ref2 = _slicedToArray(_ref, 2),\n    PopperProvider = _ref2[0],\n    usePopperContext = _ref2[1];\n\nvar Popper = function Popper(props) {\n  return _react[\"default\"].createElement(PopperProvider, props, props.children);\n};\n\nexports.Popper = Popper;\n\nvar PopperContent = _react[\"default\"].forwardRef(function (_ref3, ref) {\n  var children = _ref3.children,\n      style = _ref3.style,\n      rest = _objectWithoutProperties(_ref3, _excluded);\n\n  var _usePopperContext = usePopperContext('PopperContent'),\n      triggerRef = _usePopperContext.triggerRef,\n      shouldFlip = _usePopperContext.shouldFlip,\n      crossOffset = _usePopperContext.crossOffset,\n      offset = _usePopperContext.offset,\n      placementProp = _usePopperContext.placement,\n      onClose = _usePopperContext.onClose,\n      shouldOverlapWithTrigger = _usePopperContext.shouldOverlapWithTrigger,\n      setOverlayRef = _usePopperContext.setOverlayRef;\n\n  var overlayRef = _react[\"default\"].useRef(null);\n\n  var _ref4 = (0, _overlays.useOverlayPosition)({\n    targetRef: triggerRef,\n    overlayRef: overlayRef,\n    shouldFlip: shouldFlip,\n    crossOffset: crossOffset,\n    isOpen: true,\n    offset: offset,\n    placement: placementProp,\n    containerPadding: 0,\n    onClose: onClose,\n    shouldOverlapWithTrigger: shouldOverlapWithTrigger\n  }),\n      overlayProps = _ref4.overlayProps,\n      rendered = _ref4.rendered,\n      arrowProps = _ref4.arrowProps,\n      placement = _ref4.placement;\n\n  var restElements = [];\n  var arrowElement = null;\n\n  _react[\"default\"].useEffect(function () {\n    setOverlayRef && setOverlayRef(overlayRef);\n  }, [overlayRef, setOverlayRef]);\n\n  _react[\"default\"].Children.forEach(children, function (child) {\n    if (_react[\"default\"].isValidElement(child) && child.type.displayName === 'PopperArrow') {\n      arrowElement = _react[\"default\"].cloneElement(child, {\n        arrowProps: arrowProps,\n        actualPlacement: placement\n      });\n    } else {\n      restElements.push(child);\n    }\n  });\n\n  var arrowHeight = 0;\n  var arrowWidth = 0;\n\n  if (arrowElement) {\n    arrowHeight = defaultArrowHeight;\n    arrowWidth = defaultArrowWidth;\n\n    if (arrowElement.props.height) {\n      arrowHeight = arrowElement.props.height;\n    }\n\n    if (arrowElement.props.width) {\n      arrowWidth = arrowElement.props.width;\n    }\n  }\n\n  var containerStyle = _react[\"default\"].useMemo(function () {\n    return getContainerStyle({\n      placement: placement,\n      arrowHeight: arrowHeight,\n      arrowWidth: arrowWidth\n    });\n  }, [arrowHeight, arrowWidth, placement]);\n\n  var overlayStyle = _react[\"default\"].useMemo(function () {\n    return _reactNative.StyleSheet.create({\n      overlay: _objectSpread(_objectSpread({}, overlayProps.style), {}, {\n        opacity: rendered ? 1 : 0,\n        position: 'absolute'\n      })\n    });\n  }, [rendered, overlayProps.style]);\n\n  if ((0, _useHasResponsiveProps.useHasResponsiveProps)(rest)) {\n    return null;\n  }\n\n  return _react[\"default\"].createElement(_reactNative.View, {\n    ref: overlayRef,\n    collapsable: false,\n    style: overlayStyle.overlay\n  }, arrowElement, _react[\"default\"].createElement(_Box[\"default\"], _extends({\n    style: _reactNative.StyleSheet.flatten([containerStyle, style])\n  }, rest, {\n    ref: ref\n  }), restElements));\n});\n\nvar PopperArrow = _react[\"default\"].forwardRef(function (_ref5, ref) {\n  var _ref5$height = _ref5.height,\n      height = _ref5$height === void 0 ? defaultArrowHeight : _ref5$height,\n      _ref5$width = _ref5.width,\n      width = _ref5$width === void 0 ? defaultArrowWidth : _ref5$width,\n      arrowProps = _ref5.arrowProps,\n      actualPlacement = _ref5.actualPlacement,\n      style = _ref5.style,\n      _ref5$borderColor = _ref5.borderColor,\n      borderColor = _ref5$borderColor === void 0 ? '#52525b' : _ref5$borderColor,\n      _ref5$backgroundColor = _ref5.backgroundColor,\n      backgroundColor = _ref5$backgroundColor === void 0 ? 'black' : _ref5$backgroundColor,\n      rest = _objectWithoutProperties(_ref5, _excluded2);\n\n  var additionalStyles = _react[\"default\"].useMemo(function () {\n    return getArrowStyles({\n      placement: actualPlacement,\n      height: height,\n      width: width\n    });\n  }, [actualPlacement, height, width]);\n\n  var triangleStyle = _react[\"default\"].useMemo(function () {\n    return {\n      position: 'absolute',\n      width: width,\n      height: height\n    };\n  }, [width, height]);\n\n  var arrowStyles = _react[\"default\"].useMemo(function () {\n    return [arrowProps.style, triangleStyle, additionalStyles, style];\n  }, [triangleStyle, additionalStyles, arrowProps.style, style]);\n\n  return _react[\"default\"].createElement(_Box[\"default\"], _extends({\n    ref: ref,\n    style: arrowStyles,\n    borderColor: borderColor,\n    backgroundColor: backgroundColor,\n    zIndex: 1\n  }, rest));\n});\n\nvar getArrowStyles = function getArrowStyles(props) {\n  var additionalStyles = {\n    transform: []\n  };\n  var diagonalLength = getDiagonalLength(defaultArrowHeight, defaultArrowHeight);\n\n  if (props.placement === 'top' && props.width) {\n    additionalStyles.transform.push({\n      translateX: -props.width / 2\n    });\n    additionalStyles.transform.push({\n      rotate: '45deg'\n    });\n    additionalStyles.bottom = Math.ceil((diagonalLength - defaultArrowHeight) / 2);\n    additionalStyles.borderBottomWidth = 1;\n    additionalStyles.borderRightWidth = 1;\n  }\n\n  if (props.placement === 'bottom' && props.width) {\n    additionalStyles.transform.push({\n      translateX: -props.width / 2\n    });\n    additionalStyles.transform.push({\n      rotate: '45deg'\n    });\n    additionalStyles.top = Math.ceil((diagonalLength - defaultArrowHeight) / 2);\n    additionalStyles.borderTopWidth = 1;\n    additionalStyles.borderLeftWidth = 1;\n  }\n\n  if (props.placement === 'left' && props.height) {\n    additionalStyles.transform.push({\n      translateY: -props.height / 2\n    });\n    additionalStyles.transform.push({\n      rotate: '45deg'\n    });\n    additionalStyles.right = Math.ceil((diagonalLength - defaultArrowHeight) / 2);\n    additionalStyles.borderTopWidth = 1;\n    additionalStyles.borderRightWidth = 1;\n  }\n\n  if (props.placement === 'right' && props.height) {\n    additionalStyles.transform.push({\n      translateY: -props.height / 2\n    });\n    additionalStyles.transform.push({\n      rotate: '45deg'\n    });\n    additionalStyles.left = Math.ceil((diagonalLength - defaultArrowHeight) / 2);\n    additionalStyles.borderBottomWidth = 1;\n    additionalStyles.borderLeftWidth = 1;\n  }\n\n  return additionalStyles;\n};\n\nvar getContainerStyle = function getContainerStyle(_ref6) {\n  var placement = _ref6.placement,\n      arrowHeight = _ref6.arrowHeight;\n  var diagonalLength = getDiagonalLength(arrowHeight, arrowHeight) / 2;\n\n  if (placement === 'top') {\n    return {\n      marginBottom: diagonalLength\n    };\n  }\n\n  if (placement === 'bottom') {\n    return {\n      marginTop: diagonalLength\n    };\n  }\n\n  if (placement === 'left') {\n    return {\n      marginRight: diagonalLength\n    };\n  }\n\n  if (placement === 'right') {\n    return {\n      marginLeft: diagonalLength\n    };\n  }\n\n  return {};\n};\n\nPopperArrow.displayName = 'PopperArrow';\nPopper.Content = PopperContent;\nPopper.Arrow = PopperArrow;","map":{"version":3,"sources":["/media/disk1/projects/depub.space/node_modules/native-base/lib/commonjs/components/composites/Popper/Popper.js"],"names":["Object","value","exports","_react","_interopRequireDefault","require","_overlays","_utils","_Box","_useHasResponsiveProps","obj","default","_extends","i","arguments","source","target","defaultArrowHeight","defaultArrowWidth","getDiagonalLength","Math","height","width","PopperProvider","usePopperContext","Popper","props","PopperContent","children","style","rest","triggerRef","shouldFlip","crossOffset","offset","placementProp","onClose","shouldOverlapWithTrigger","setOverlayRef","overlayRef","overlayProps","rendered","arrowProps","placement","targetRef","isOpen","containerPadding","restElements","arrowElement","child","actualPlacement","arrowHeight","arrowWidth","containerStyle","getContainerStyle","overlayStyle","_reactNative","overlay","opacity","position","ref","collapsable","PopperArrow","borderColor","backgroundColor","additionalStyles","getArrowStyles","triangleStyle","arrowStyles","zIndex","transform","diagonalLength","translateX","rotate","translateY","marginBottom","marginTop","marginRight","marginLeft"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Popper = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _overlays = require(\"@react-native-aria/overlays\");\n\nvar _reactNative = require(\"react-native\");\n\nvar _utils = require(\"../../../utils\");\n\nvar _Box = _interopRequireDefault(require(\"../../primitives/Box\"));\n\nvar _useHasResponsiveProps = require(\"../../../hooks/useHasResponsiveProps\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nconst defaultArrowHeight = 15;\nconst defaultArrowWidth = 15;\n\nconst getDiagonalLength = (height, width) => {\n  return Math.pow(height * height + width * width, 0.5);\n};\n\nconst [PopperProvider, usePopperContext] = (0, _utils.createContext)('PopperContext');\n\nconst Popper = props => {\n  return /*#__PURE__*/_react.default.createElement(PopperProvider, props, props.children);\n};\n\nexports.Popper = Popper;\n\nconst PopperContent = /*#__PURE__*/_react.default.forwardRef(({\n  children,\n  style,\n  ...rest\n}, ref) => {\n  const {\n    triggerRef,\n    shouldFlip,\n    crossOffset,\n    offset,\n    placement: placementProp,\n    onClose,\n    shouldOverlapWithTrigger,\n    setOverlayRef\n  } = usePopperContext('PopperContent');\n\n  const overlayRef = _react.default.useRef(null); // const { top } = useSafeAreaInsets();\n\n\n  const {\n    overlayProps,\n    rendered,\n    arrowProps,\n    placement\n  } = (0, _overlays.useOverlayPosition)({\n    targetRef: triggerRef,\n    overlayRef,\n    shouldFlip: shouldFlip,\n    crossOffset: crossOffset,\n    isOpen: true,\n    offset: offset,\n    placement: placementProp,\n    containerPadding: 0,\n    onClose: onClose,\n    shouldOverlapWithTrigger\n  });\n  let restElements = [];\n  let arrowElement = null;\n\n  _react.default.useEffect(() => {\n    setOverlayRef && setOverlayRef(overlayRef);\n  }, [overlayRef, setOverlayRef]); // Might have performance impact if there are a lot of siblings!\n  // Shouldn't be an issue with popovers since it would have atmost 2. Arrow and Content.\n\n\n  _react.default.Children.forEach(children, child => {\n    if ( /*#__PURE__*/_react.default.isValidElement(child) && // @ts-ignore\n    child.type.displayName === 'PopperArrow') {\n      arrowElement = /*#__PURE__*/_react.default.cloneElement(child, {\n        // @ts-ignore\n        arrowProps,\n        actualPlacement: placement\n      });\n    } else {\n      restElements.push(child);\n    }\n  });\n\n  let arrowHeight = 0;\n  let arrowWidth = 0;\n\n  if (arrowElement) {\n    arrowHeight = defaultArrowHeight;\n    arrowWidth = defaultArrowWidth; //@ts-ignore\n\n    if (arrowElement.props.height) {\n      //@ts-ignore\n      arrowHeight = arrowElement.props.height;\n    } //@ts-ignore\n\n\n    if (arrowElement.props.width) {\n      //@ts-ignore\n      arrowWidth = arrowElement.props.width;\n    }\n  }\n\n  const containerStyle = _react.default.useMemo(() => getContainerStyle({\n    placement,\n    arrowHeight,\n    arrowWidth\n  }), [arrowHeight, arrowWidth, placement]);\n\n  const overlayStyle = _react.default.useMemo(() => _reactNative.StyleSheet.create({\n    overlay: { ...overlayProps.style,\n      // To handle translucent android StatusBar\n      // marginTop: Platform.select({ android: top, default: 0 }),\n      opacity: rendered ? 1 : 0,\n      position: 'absolute'\n    }\n  }), [rendered, overlayProps.style]); //TODO: refactor for responsive prop\n\n\n  if ((0, _useHasResponsiveProps.useHasResponsiveProps)(rest)) {\n    return null;\n  }\n\n  return /*#__PURE__*/_react.default.createElement(_reactNative.View, {\n    ref: overlayRef,\n    collapsable: false,\n    style: overlayStyle.overlay\n  }, arrowElement, /*#__PURE__*/_react.default.createElement(_Box.default, _extends({\n    style: _reactNative.StyleSheet.flatten([containerStyle, style])\n  }, rest, {\n    ref: ref\n  }), restElements));\n}); // This is an internal implementation of PopoverArrow\n\n\nconst PopperArrow = /*#__PURE__*/_react.default.forwardRef(({\n  height = defaultArrowHeight,\n  width = defaultArrowWidth,\n  //@ts-ignore - Will be passed by React.cloneElement from PopperContent\n  arrowProps,\n  //@ts-ignore - Will be passed by React.cloneElement from PopperContent\n  actualPlacement,\n  style,\n  borderColor = '#52525b',\n  backgroundColor = 'black',\n  ...rest\n}, ref) => {\n  const additionalStyles = _react.default.useMemo(() => getArrowStyles({\n    placement: actualPlacement,\n    height,\n    width\n  }), [actualPlacement, height, width]);\n\n  let triangleStyle = _react.default.useMemo(() => ({\n    position: 'absolute',\n    width,\n    height\n  }), [width, height]);\n\n  let arrowStyles = _react.default.useMemo(() => [arrowProps.style, triangleStyle, additionalStyles, style], [triangleStyle, additionalStyles, arrowProps.style, style]);\n\n  return /*#__PURE__*/_react.default.createElement(_Box.default, _extends({\n    ref: ref,\n    style: arrowStyles,\n    borderColor: borderColor,\n    backgroundColor: backgroundColor,\n    zIndex: 1\n  }, rest));\n});\n\nconst getArrowStyles = props => {\n  let additionalStyles = {\n    transform: []\n  };\n  const diagonalLength = getDiagonalLength(defaultArrowHeight, defaultArrowHeight);\n\n  if (props.placement === 'top' && props.width) {\n    additionalStyles.transform.push({\n      translateX: -props.width / 2\n    });\n    additionalStyles.transform.push({\n      rotate: '45deg'\n    });\n    additionalStyles.bottom = Math.ceil((diagonalLength - defaultArrowHeight) / 2);\n    additionalStyles.borderBottomWidth = 1;\n    additionalStyles.borderRightWidth = 1;\n  }\n\n  if (props.placement === 'bottom' && props.width) {\n    additionalStyles.transform.push({\n      translateX: -props.width / 2\n    });\n    additionalStyles.transform.push({\n      rotate: '45deg'\n    });\n    additionalStyles.top = Math.ceil((diagonalLength - defaultArrowHeight) / 2);\n    additionalStyles.borderTopWidth = 1;\n    additionalStyles.borderLeftWidth = 1;\n  }\n\n  if (props.placement === 'left' && props.height) {\n    additionalStyles.transform.push({\n      translateY: -props.height / 2\n    });\n    additionalStyles.transform.push({\n      rotate: '45deg'\n    });\n    additionalStyles.right = Math.ceil((diagonalLength - defaultArrowHeight) / 2);\n    additionalStyles.borderTopWidth = 1;\n    additionalStyles.borderRightWidth = 1;\n  }\n\n  if (props.placement === 'right' && props.height) {\n    additionalStyles.transform.push({\n      translateY: -props.height / 2\n    });\n    additionalStyles.transform.push({\n      rotate: '45deg'\n    });\n    additionalStyles.left = Math.ceil((diagonalLength - defaultArrowHeight) / 2);\n    additionalStyles.borderBottomWidth = 1;\n    additionalStyles.borderLeftWidth = 1;\n  }\n\n  return additionalStyles;\n};\n\nconst getContainerStyle = ({\n  placement,\n  arrowHeight\n}) => {\n  const diagonalLength = getDiagonalLength(arrowHeight, arrowHeight) / 2;\n\n  if (placement === 'top') {\n    return {\n      marginBottom: diagonalLength\n    };\n  }\n\n  if (placement === 'bottom') {\n    return {\n      marginTop: diagonalLength\n    };\n  }\n\n  if (placement === 'left') {\n    return {\n      marginRight: diagonalLength\n    };\n  }\n\n  if (placement === 'right') {\n    return {\n      marginLeft: diagonalLength\n    };\n  }\n\n  return {};\n};\n\nPopperArrow.displayName = 'PopperArrow';\nPopper.Content = PopperContent;\nPopper.Arrow = PopperArrow;\n//# sourceMappingURL=Popper.js.map"]},"metadata":{},"sourceType":"script"}