{"ast":null,"code":"import _slicedToArray from \"/media/disk1/projects/depub.space/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/media/disk1/projects/depub.space/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nvar _s = $RefreshSig$();\n\nvar _excluded = [\"onOpen\", \"trigger\", \"onClose\", \"isOpen\", \"children\", \"defaultIsOpen\", \"initialFocusRef\", \"finalFocusRef\", \"trapFocus\"];\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { forwardRef, memo } from 'react';\nimport { Popper } from \"../Popper\";\nimport { mergeRefs } from \"../../../utils\";\nimport { useControllableState } from \"../../../hooks\";\nimport { PopoverContext } from \"./PopoverContext\";\nimport Box from \"../../primitives/Box\";\nimport Backdrop from \"../Backdrop\";\nimport { FocusScope } from '@react-native-aria/focus';\nimport { PresenceTransition } from \"../Transitions\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { useId } from '@react-aria/utils';\nimport { Overlay } from \"../../primitives/Overlay\";\nimport { useHasResponsiveProps } from \"../../../hooks/useHasResponsiveProps\";\n\nvar Popover = function Popover(_ref, ref) {\n  _s();\n\n  var onOpen = _ref.onOpen,\n      trigger = _ref.trigger,\n      onClose = _ref.onClose,\n      isOpenProp = _ref.isOpen,\n      children = _ref.children,\n      defaultIsOpen = _ref.defaultIsOpen,\n      initialFocusRef = _ref.initialFocusRef,\n      finalFocusRef = _ref.finalFocusRef,\n      _ref$trapFocus = _ref.trapFocus,\n      trapFocus = _ref$trapFocus === void 0 ? true : _ref$trapFocus,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var triggerRef = React.useRef(null);\n  var mergedRef = mergeRefs([triggerRef]);\n\n  var _useControllableState = useControllableState({\n    value: isOpenProp,\n    defaultValue: defaultIsOpen,\n    onChange: function onChange(value) {\n      value ? onOpen && onOpen() : onClose && onClose();\n    }\n  }),\n      _useControllableState2 = _slicedToArray(_useControllableState, 2),\n      isOpen = _useControllableState2[0],\n      setIsOpen = _useControllableState2[1];\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      bodyMounted = _React$useState2[0],\n      setBodyMounted = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      headerMounted = _React$useState4[0],\n      setHeaderMounted = _React$useState4[1];\n\n  var popoverContentId = \"\".concat(useId(), \"-content\");\n  var headerId = \"\".concat(popoverContentId, \"-header\");\n  var bodyId = \"\".concat(popoverContentId, \"-body\");\n  var handleOpen = React.useCallback(function () {\n    setIsOpen(true);\n  }, [setIsOpen]);\n\n  var updatedTrigger = function updatedTrigger() {\n    return trigger({\n      'ref': mergedRef,\n      'onPress': handleOpen,\n      'aria-expanded': isOpen ? true : false,\n      'aria-controls': isOpen ? popoverContentId : undefined,\n      'aria-haspopup': true\n    }, {\n      open: isOpen\n    });\n  };\n\n  var handleClose = function handleClose() {\n    setIsOpen(false);\n  };\n\n  if (useHasResponsiveProps(props)) {\n    return null;\n  }\n\n  return React.createElement(Box, {\n    ref: ref\n  }, updatedTrigger(), React.createElement(Overlay, {\n    isOpen: isOpen,\n    onRequestClose: handleClose,\n    useRNModalOnAndroid: true\n  }, React.createElement(PresenceTransition, {\n    initial: {\n      opacity: 0\n    },\n    animate: {\n      opacity: 1,\n      transition: {\n        duration: 150\n      }\n    },\n    exit: {\n      opacity: 0,\n      scale: 0.95,\n      transition: {\n        duration: 100\n      }\n    },\n    visible: isOpen,\n    style: StyleSheet.absoluteFill\n  }, React.createElement(Popper, _extends({\n    onClose: handleClose,\n    triggerRef: triggerRef\n  }, props), React.createElement(Backdrop, {\n    onPress: handleClose,\n    bg: \"transparent\"\n  }), React.createElement(PopoverContext.Provider, {\n    value: {\n      onClose: handleClose,\n      initialFocusRef: initialFocusRef,\n      finalFocusRef: finalFocusRef,\n      popoverContentId: popoverContentId,\n      bodyId: bodyId,\n      headerId: headerId,\n      headerMounted: headerMounted,\n      bodyMounted: bodyMounted,\n      setBodyMounted: setBodyMounted,\n      setHeaderMounted: setHeaderMounted\n    }\n  }, React.createElement(FocusScope, {\n    contain: trapFocus,\n    restoreFocus: true,\n    autoFocus: true\n  }, children))))));\n};\n\n_s(Popover, \"TCvXbccZ6FW1LqJ18+LaQaHK7yY=\", false, function () {\n  return [useControllableState, useId, useHasResponsiveProps];\n});\n\n_c = Popover;\nexport default _c3 = memo(_c2 = forwardRef(Popover));\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Popover\");\n$RefreshReg$(_c2, \"%default%$memo\");\n$RefreshReg$(_c3, \"%default%\");\n;\n\nvar _a, _b;\n\nif (typeof self !== 'undefined' && '$RefreshHelpers$' in self) {\n  var currentExports = module.__proto__.exports;\n  var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n  self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n\n  if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n    module.hot.dispose(function (data) {\n      data.prevExports = currentExports;\n    });\n    module.hot.accept();\n\n    if (prevExports !== null) {\n      if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n        module.hot.invalidate();\n      } else {\n        self.$RefreshHelpers$.scheduleUpdate();\n      }\n    }\n  } else {\n    var isNoLongerABoundary = prevExports !== null;\n\n    if (isNoLongerABoundary) {\n      module.hot.invalidate();\n    }\n  }\n}","map":{"version":3,"sources":["/media/disk1/projects/depub.space/node_modules/native-base/lib/module/components/composites/Popover/Popover.js"],"names":["_extends","Object","i","arguments","source","target","Popover","onOpen","trigger","onClose","isOpen","isOpenProp","children","defaultIsOpen","initialFocusRef","finalFocusRef","trapFocus","props","triggerRef","React","mergedRef","mergeRefs","setIsOpen","useControllableState","value","defaultValue","onChange","bodyMounted","setBodyMounted","headerMounted","setHeaderMounted","popoverContentId","useId","headerId","bodyId","handleOpen","updatedTrigger","open","handleClose","useHasResponsiveProps","ref","onRequestClose","useRNModalOnAndroid","initial","opacity","animate","transition","duration","exit","scale","visible","style","StyleSheet","onPress","bg","PopoverContext","contain","restoreFocus","autoFocus","memo","forwardRef"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { forwardRef, memo } from 'react';\nimport { Popper } from '../Popper';\nimport { mergeRefs } from '../../../utils';\nimport { useControllableState } from '../../../hooks';\nimport { PopoverContext } from './PopoverContext';\nimport Box from '../../primitives/Box';\nimport Backdrop from '../Backdrop';\nimport { FocusScope } from '@react-native-aria/focus';\nimport { PresenceTransition } from '../Transitions';\nimport { StyleSheet } from 'react-native';\nimport { useId } from '@react-aria/utils';\nimport { Overlay } from '../../primitives/Overlay';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\n\nconst Popover = ({\n  onOpen,\n  trigger,\n  onClose,\n  isOpen: isOpenProp,\n  children,\n  defaultIsOpen,\n  initialFocusRef,\n  finalFocusRef,\n  trapFocus = true,\n  ...props\n}, ref) => {\n  const triggerRef = React.useRef(null);\n  const mergedRef = mergeRefs([triggerRef]);\n  const [isOpen, setIsOpen] = useControllableState({\n    value: isOpenProp,\n    defaultValue: defaultIsOpen,\n    onChange: value => {\n      value ? onOpen && onOpen() : onClose && onClose();\n    }\n  });\n  const [bodyMounted, setBodyMounted] = React.useState(false);\n  const [headerMounted, setHeaderMounted] = React.useState(false);\n  const popoverContentId = \"\".concat(useId(), \"-content\");\n  const headerId = \"\".concat(popoverContentId, \"-header\");\n  const bodyId = \"\".concat(popoverContentId, \"-body\");\n  const handleOpen = React.useCallback(() => {\n    setIsOpen(true);\n  }, [setIsOpen]);\n\n  const updatedTrigger = () => {\n    return trigger({\n      'ref': mergedRef,\n      'onPress': handleOpen,\n      'aria-expanded': isOpen ? true : false,\n      'aria-controls': isOpen ? popoverContentId : undefined,\n      'aria-haspopup': true\n    }, {\n      open: isOpen\n    });\n  };\n\n  const handleClose = () => {\n    setIsOpen(false);\n  }; //TODO: refactor for responsive prop\n\n\n  if (useHasResponsiveProps(props)) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(Box, {\n    ref: ref\n  }, updatedTrigger(), /*#__PURE__*/React.createElement(Overlay, {\n    isOpen: isOpen,\n    onRequestClose: handleClose,\n    useRNModalOnAndroid: true\n  }, /*#__PURE__*/React.createElement(PresenceTransition, {\n    initial: {\n      opacity: 0\n    },\n    animate: {\n      opacity: 1,\n      transition: {\n        duration: 150\n      }\n    },\n    exit: {\n      opacity: 0,\n      scale: 0.95,\n      transition: {\n        duration: 100\n      }\n    },\n    visible: isOpen,\n    style: StyleSheet.absoluteFill\n  }, /*#__PURE__*/React.createElement(Popper, _extends({\n    onClose: handleClose,\n    triggerRef: triggerRef\n  }, props), /*#__PURE__*/React.createElement(Backdrop, {\n    onPress: handleClose,\n    bg: \"transparent\"\n  }), /*#__PURE__*/React.createElement(PopoverContext.Provider, {\n    value: {\n      onClose: handleClose,\n      initialFocusRef,\n      finalFocusRef,\n      popoverContentId,\n      bodyId,\n      headerId,\n      headerMounted,\n      bodyMounted,\n      setBodyMounted,\n      setHeaderMounted\n    }\n  }, /*#__PURE__*/React.createElement(FocusScope, {\n    contain: trapFocus,\n    restoreFocus: true,\n    autoFocus: true\n  }, children))))));\n};\n\nexport default /*#__PURE__*/memo( /*#__PURE__*/forwardRef(Popover));\n//# sourceMappingURL=Popover.js.map"]},"metadata":{},"sourceType":"module"}