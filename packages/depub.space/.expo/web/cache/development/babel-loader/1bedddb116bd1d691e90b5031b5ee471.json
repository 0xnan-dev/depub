{"ast":null,"code":"\"use strict\";\n\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\n\nvar _slicedToArray = require(\"@babel/runtime/helpers/slicedToArray\");\n\nvar _objectWithoutProperties = require(\"@babel/runtime/helpers/objectWithoutProperties\");\n\nvar _excluded = [\"value\", \"isIndeterminate\", \"max\", \"min\"];\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _lodash = _interopRequireDefault(require(\"lodash.get\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactNative = require(\"react-native-web/dist/index\");\n\nvar _styled = require(\"../../../utils/styled\");\n\nvar _hooks = require(\"../../../hooks\");\n\nvar _utils = require(\"../../../utils\");\n\nvar _Box = _interopRequireDefault(require(\"../../primitives/Box\"));\n\nvar _theme = require(\"../../../theme\");\n\nvar _useHasResponsiveProps = require(\"../../../hooks/useHasResponsiveProps\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar StyleAnimatedView = (0, _styled.makeStyledComponent)(_reactNative.Animated.View);\n\nvar CircularProgress = function CircularProgress(_ref, ref) {\n  var value = _ref.value,\n      isIndeterminate = _ref.isIndeterminate,\n      max = _ref.max,\n      min = _ref.min,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var theme = (0, _hooks.useTheme)();\n  var isDomUsable = (0, _utils.canUseDom)();\n\n  if (min) {\n    value = value - min;\n  }\n\n  var sizeProps;\n  var newProps = (0, _hooks.useThemeProps)('CircularProgress', props);\n\n  var _theme$themeTools$ext = _theme.themeTools.extractInObject(props, ['size']),\n      _theme$themeTools$ext2 = _slicedToArray(_theme$themeTools$ext, 2),\n      remainingProps = _theme$themeTools$ext2[1];\n\n  if (!newProps.size) {\n    sizeProps = {\n      height: newProps.height,\n      width: newProps.width\n    };\n  } else {\n    sizeProps = {\n      height: newProps.size,\n      width: newProps.size\n    };\n  }\n\n  var themeHeight = (0, _lodash[\"default\"])(theme, 'space.' + sizeProps.height);\n  var themeWidth = (0, _lodash[\"default\"])(theme, 'space.' + sizeProps.width);\n  var styleSize = {\n    height: themeHeight ? parseInt(themeHeight.slice(themeHeight.Length, -2), 10) : sizeProps.height,\n    width: themeWidth ? parseInt(themeWidth.slice(themeWidth.Length, -2), 10) : sizeProps.width\n  };\n  var defaultThickness = newProps.thickness;\n  var degree = new _reactNative.Animated.Value(0);\n\n  if (isIndeterminate) {\n    if (isDomUsable) {\n      _reactNative.Animated.loop(_reactNative.Animated.timing(degree, {\n        toValue: 1,\n        duration: 600,\n        easing: _reactNative.Easing.linear,\n        useNativeDriver: false\n      })).start();\n    }\n  }\n\n  var _react$default$useSta = _react[\"default\"].useState(0),\n      _react$default$useSta2 = _slicedToArray(_react$default$useSta, 2),\n      viewHeight = _react$default$useSta2[0],\n      setViewHeight = _react$default$useSta2[1];\n\n  var layout = function layout(e) {\n    var height = e.nativeEvent.layout.height;\n    setViewHeight(height);\n  };\n\n  var defaultStyling = _objectSpread({\n    borderBottomLeftRadius: viewHeight / 2,\n    borderBottomRightRadius: viewHeight / 2,\n    borderTopLeftRadius: viewHeight / 2,\n    borderTopRightRadius: viewHeight / 2,\n    borderLeftWidth: defaultThickness,\n    borderBottomWidth: defaultThickness,\n    position: 'absolute',\n    borderLeftColor: 'transparent',\n    borderBottomColor: 'transparent'\n  }, styleSize);\n\n  var styles = _reactNative.StyleSheet.create({\n    firstProgressLayer: _objectSpread(_objectSpread({\n      borderTopWidth: defaultThickness,\n      borderRightWidth: defaultThickness\n    }, defaultStyling), {}, {\n      transform: [{\n        rotateZ: '-135deg'\n      }]\n    }),\n    secondProgressLayer: _objectSpread(_objectSpread({\n      borderTopWidth: defaultThickness,\n      borderRightWidth: defaultThickness\n    }, defaultStyling), {}, {\n      transform: [{\n        rotateZ: '45deg'\n      }]\n    }),\n    offsetLayer: _objectSpread(_objectSpread({\n      borderTopWidth: defaultThickness,\n      borderRightWidth: defaultThickness\n    }, defaultStyling), {}, {\n      borderRadius: viewHeight / 2,\n      transform: [{\n        rotateZ: '-135deg'\n      }]\n    }),\n    animateStyle: _objectSpread(_objectSpread({\n      borderTopWidth: defaultThickness,\n      borderRightWidth: defaultThickness\n    }, defaultStyling), {}, {\n      transform: [{\n        rotateZ: degree.interpolate({\n          inputRange: [0, 1],\n          outputRange: ['0deg', '360deg']\n        })\n      }]\n    })\n  });\n\n  var halfSide = (max ? min ? max - min : max : 100) / 2;\n\n  var propStyle = function propStyle(percent, base_degrees) {\n    var rotateBy = base_degrees + percent * 180 / halfSide;\n    return {\n      transform: [{\n        rotateZ: rotateBy + 'deg'\n      }]\n    };\n  };\n\n  var renderThirdLayer = function renderThirdLayer(percent) {\n    if (percent > halfSide) {\n      return _react[\"default\"].createElement(_Box[\"default\"], {\n        borderTopColor: newProps.color,\n        borderRightColor: newProps.color,\n        style: [styles.secondProgressLayer, propStyle(percent - halfSide, 45)]\n      });\n    } else {\n      return _react[\"default\"].createElement(_Box[\"default\"], {\n        borderTopColor: newProps.trackColor,\n        borderRightColor: newProps.trackColor,\n        style: styles.offsetLayer\n      });\n    }\n  };\n\n  var firstProgressLayerStyle;\n\n  if (value > halfSide) {\n    firstProgressLayerStyle = propStyle(halfSide, -135);\n  } else {\n    firstProgressLayerStyle = propStyle(value, -135);\n  }\n\n  if ((0, _useHasResponsiveProps.useHasResponsiveProps)(props)) {\n    return null;\n  }\n\n  return _react[\"default\"].createElement(_Box[\"default\"], _extends({}, sizeProps, {\n    rounded: viewHeight / 2,\n    borderWidth: defaultThickness,\n    borderColor: newProps.trackColor,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  }, remainingProps, {\n    ref: ref,\n    accessible: true,\n    accessibilityRole: \"progressbar\",\n    accessibilityValue: {\n      min: min,\n      max: max,\n      now: value\n    }\n  }), !isIndeterminate ? _react[\"default\"].createElement(_react[\"default\"].Fragment, null, _react[\"default\"].createElement(_Box[\"default\"], {\n    onLayout: layout,\n    borderTopColor: newProps.color,\n    borderRightColor: newProps.color,\n    style: [styles.firstProgressLayer, firstProgressLayerStyle]\n  }), renderThirdLayer(value), _react[\"default\"].createElement(_Box[\"default\"], {\n    _text: newProps._text\n  }, remainingProps.children)) : _react[\"default\"].createElement(StyleAnimatedView, {\n    onLayout: layout,\n    borderTopColor: newProps.color,\n    borderRightColor: newProps.color,\n    style: styles.animateStyle\n  }));\n};\n\nvar _default = _react[\"default\"].memo(_react[\"default\"].forwardRef(CircularProgress));\n\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/media/disk1/projects/depub.space/node_modules/native-base/lib/commonjs/components/composites/CircularProgress/CircularProgress.js"],"names":["Object","value","exports","_lodash","_interopRequireDefault","require","_react","_styled","_hooks","_utils","_Box","_theme","_useHasResponsiveProps","obj","default","_extends","i","arguments","source","target","StyleAnimatedView","_reactNative","CircularProgress","isIndeterminate","max","min","props","theme","isDomUsable","newProps","remainingProps","sizeProps","height","width","themeHeight","themeWidth","styleSize","parseInt","defaultThickness","degree","toValue","duration","easing","useNativeDriver","viewHeight","setViewHeight","layout","e","defaultStyling","borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius","borderLeftWidth","borderBottomWidth","position","borderLeftColor","borderBottomColor","styles","firstProgressLayer","borderTopWidth","borderRightWidth","transform","rotateZ","secondProgressLayer","offsetLayer","borderRadius","animateStyle","inputRange","outputRange","halfSide","propStyle","rotateBy","base_degrees","percent","renderThirdLayer","borderTopColor","borderRightColor","style","firstProgressLayerStyle","rounded","borderWidth","borderColor","justifyContent","alignItems","ref","accessible","accessibilityRole","accessibilityValue","now","onLayout","_text","_default"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEAA;;AAAAA,MAAM,CAANA,cAAAA,CAAAA,OAAAA,EAAAA,YAAAA,EAA6C;AAC3CC,EAAAA,KAAK,EADPD;AAA6C,CAA7CA;AAGAE,OAAAA,WAAAA,GAAkB,KAAlBA,CAAAA;;AAEA,IAAIC,OAAO,GAAGC,sBAAsB,CAACC,OAAO,CAA5C,YAA4C,CAAR,CAApC;;AAEA,IAAIC,MAAM,GAAGF,sBAAsB,CAACC,OAAO,CAA3C,OAA2C,CAAR,CAAnC;;;;AAIA,IAAIE,OAAO,GAAGF,OAAd,yBAAA;;AAEA,IAAIG,MAAM,GAAGH,OAAb,kBAAA;;AAEA,IAAII,MAAM,GAAGJ,OAAb,kBAAA;;AAEA,IAAIK,IAAI,GAAGN,sBAAsB,CAACC,OAAlC,wBAAiC,CAAjC;;AAEA,IAAIM,MAAM,GAAGN,OAAb,kBAAA;;AAEA,IAAIO,sBAAsB,GAAGP,OAA7B,wCAAA;;AAEA,SAAA,sBAAA,CAAA,GAAA,EAAqC;AAAE,SAAOQ,GAAG,IAAIA,GAAG,CAAVA,UAAAA,GAAAA,GAAAA,GAA8B;AAAEC,eAAvC;AAAqC,GAArC;AAEvC;;AAAA,SAAA,QAAA,GAAoB;AAAEC,EAAAA,QAAQ,GAAGf,MAAM,CAANA,MAAAA,IAAiB,UAAA,MAAA,EAAkB;AAAE,SAAK,IAAIgB,CAAC,GAAV,CAAA,EAAgBA,CAAC,GAAGC,SAAS,CAA7B,MAAA,EAAsCD,CAAtC,EAAA,EAA2C;AAAE,UAAIE,MAAM,GAAGD,SAAS,CAAtB,CAAsB,CAAtB;;AAA2B,WAAK,IAAL,GAAA,IAAA,MAAA,EAAwB;AAAE,YAAIjB,MAAM,CAANA,SAAAA,CAAAA,cAAAA,CAAAA,IAAAA,CAAAA,MAAAA,EAAJ,GAAIA,CAAJ,EAAuD;AAAEmB,UAAAA,MAAM,CAANA,GAAM,CAANA,GAAcD,MAAM,CAApBC,GAAoB,CAApBA;AAA8B;AAAE;AAAC;;AAAA,WAAA,MAAA;AAA5OJ,GAAAA;;AAA8P,SAAOA,QAAQ,CAARA,KAAAA,CAAAA,IAAAA,EAAP,SAAOA,CAAP;AAEpR;;AAAA,IAAMK,iBAAiB,GAAG,CAAC,GAAGb,OAAO,CAAX,mBAAA,EAAiCc,YAAY,CAAZA,QAAAA,CAA3D,IAA0B,CAA1B;;AAEA,IAAMC,gBAAgB,GAAhBA,SAAAA,gBAAAA,CAAmB,IAAnBA,EAAmB,GAAnBA,EAMK;AALTrB,MAAAA,KAKS,GAAA,IAAA,CALTA,KAAAA;AAAAA,MACAsB,eAIS,GAAA,IAAA,CAJTA,eADAtB;AAAAA,MAEAuB,GAGS,GAAA,IAAA,CAHTA,GAFAvB;AAAAA,MAGAwB,GAES,GAAA,IAAA,CAFTA,GAHAxB;AAAAA,MAIGyB,KACM,GAAA,wBAAA,CAAA,IAAA,EAAA,SAAA,CALTzB;;AAMA,MAAM0B,KAAK,GAAG,CAAC,GAAGnB,MAAM,CAAxB,QAAc,GAAd;AACA,MAAMoB,WAAW,GAAG,CAAC,GAAGnB,MAAM,CAA9B,SAAoB,GAApB;;AAEA,MAAA,GAAA,EAAS;AACPR,IAAAA,KAAK,GAAGA,KAAK,GAAbA,GAAAA;AAGF;;AAAA,MAAA,SAAA;AACA,MAAI4B,QAAQ,GAAG,CAAC,GAAGrB,MAAM,CAAV,aAAA,EAAA,kBAAA,EAAf,KAAe,CAAf;;AAEA,MAAA,qBAAA,GAAyBG,MAAM,CAANA,UAAAA,CAAAA,eAAAA,CAAAA,KAAAA,EAAyC,CAAlE,MAAkE,CAAzCA,CAAzB;AAAA,MAAA,sBAAA,GAAA,cAAA,CAAA,qBAAA,EAAA,CAAA,CAAA;AAAA,MAAOmB,cAAP,GAAA,sBAAA,CAAA,CAAA,CAAA;;AAGA,MAAI,CAACD,QAAQ,CAAb,IAAA,EAAoB;AAClBE,IAAAA,SAAS,GAAG;AACVC,MAAAA,MAAM,EAAEH,QAAQ,CADN,MAAA;AAEVI,MAAAA,KAAK,EAAEJ,QAAQ,CAFjBE;AAAY,KAAZA;AADF,GAAA,MAKO;AACLA,IAAAA,SAAS,GAAG;AACVC,MAAAA,MAAM,EAAEH,QAAQ,CADN,IAAA;AAEVI,MAAAA,KAAK,EAAEJ,QAAQ,CAFjBE;AAAY,KAAZA;AAOF;;AAAA,MAAMG,WAAW,GAAG,CAAC,GAAG/B,OAAJ,WAAA,EAAA,KAAA,EAA4B,WAAW4B,SAAS,CAApE,MAAoB,CAApB;AACA,MAAMI,UAAU,GAAG,CAAC,GAAGhC,OAAJ,WAAA,EAAA,KAAA,EAA4B,WAAW4B,SAAS,CAAnE,KAAmB,CAAnB;AACA,MAAMK,SAAS,GAAG;AAChBJ,IAAAA,MAAM,EAAEE,WAAW,GAAGG,QAAQ,CAACH,WAAW,CAAXA,KAAAA,CAAkBA,WAAW,CAA7BA,MAAAA,EAAsC,CAAvC,CAACA,CAAD,EAAX,EAAW,CAAX,GAA6DH,SAAS,CADzE,MAAA;AAEhBE,IAAAA,KAAK,EAAEE,UAAU,GAAGE,QAAQ,CAACF,UAAU,CAAVA,KAAAA,CAAiBA,UAAU,CAA3BA,MAAAA,EAAoC,CAArC,CAACA,CAAD,EAAX,EAAW,CAAX,GAA2DJ,SAAS,CAFvF;AAAkB,GAAlB;AAIA,MAAMO,gBAAgB,GAAGT,QAAQ,CAAjC,SAAA;AACA,MAAMU,MAAM,GAAG,IAAIlB,YAAY,CAAZA,QAAAA,CAAJ,KAAA,CAAf,CAAe,CAAf;;AAEA,MAAA,eAAA,EAAqB;AACnB,QAAA,WAAA,EAAiB;AACfA,MAAAA,YAAY,CAAZA,QAAAA,CAAAA,IAAAA,CAA2BA,YAAY,CAAZA,QAAAA,CAAAA,MAAAA,CAAAA,MAAAA,EAAqC;AAC9DmB,QAAAA,OAAO,EADuD,CAAA;AAE9DC,QAAAA,QAAQ,EAFsD,GAAA;AAG9DC,QAAAA,MAAM,EAAErB,YAAY,CAAZA,MAAAA,CAHsD,MAAA;AAI9DsB,QAAAA,eAAe,EAJjBtB;AAAgE,OAArCA,CAA3BA,EAAAA,KAAAA;AAOH;AAED;;AAAA,MAAA,qBAAA,GAAoCf,MAAAA,WAAAA,CAAAA,QAAAA,CAApC,CAAoCA,CAApC;AAAA,MAAA,sBAAA,GAAA,cAAA,CAAA,qBAAA,EAAA,CAAA,CAAA;AAAA,MAAOsC,UAAP,GAAA,sBAAA,CAAA,CAAA,CAAA;AAAA,MAAmBC,aAAnB,GAAA,sBAAA,CAAA,CAAA,CAAA;;AAEA,MAAMC,MAAM,GAANA,SAAAA,MAAAA,CAAS,CAATA,EAAc;AAClB,QAAId,MAAM,GAAGe,CAAC,CAADA,WAAAA,CAAAA,MAAAA,CAAb,MAAA;AACAF,IAAAA,aAAa,CAAbA,MAAa,CAAbA;AAFF,GAAA;;AAKA,MAAMG,cAAc,GAAA,aAAA,CAAA;AAClBC,IAAAA,sBAAsB,EAAEL,UAAU,GADhB,CAAA;AAElBM,IAAAA,uBAAuB,EAAEN,UAAU,GAFjB,CAAA;AAGlBO,IAAAA,mBAAmB,EAAEP,UAAU,GAHb,CAAA;AAIlBQ,IAAAA,oBAAoB,EAAER,UAAU,GAJd,CAAA;AAKlBS,IAAAA,eAAe,EALG,gBAAA;AAMlBC,IAAAA,iBAAiB,EANC,gBAAA;AAOlBC,IAAAA,QAAQ,EAPU,UAAA;AAQlBC,IAAAA,eAAe,EARG,aAAA;AASlBC,IAAAA,iBAAiB,EATC;AAAA,GAAA,EAApB,SAAoB,CAApB;;AAaA,MAAMC,MAAM,GAAGrC,YAAY,CAAZA,UAAAA,CAAAA,MAAAA,CAA+B;AAC5CsC,IAAAA,kBAAkB,EAAA,aAAA,CAAA,aAAA,CAAA;AAChBC,MAAAA,cAAc,EADE,gBAAA;AAEhBC,MAAAA,gBAAgB,EAFA;AAAA,KAAA,EAAA,cAAA,CAAA,EAAA,EAAA,EAAA;AAIhBC,MAAAA,SAAS,EAAE,CAAC;AACVC,QAAAA,OAAO,EANiC;AAK9B,OAAD;AAJK,KAAA,CAD0B;AAS5CC,IAAAA,mBAAmB,EAAA,aAAA,CAAA,aAAA,CAAA;AACjBJ,MAAAA,cAAc,EADG,gBAAA;AAEjBC,MAAAA,gBAAgB,EAFC;AAAA,KAAA,EAAA,cAAA,CAAA,EAAA,EAAA,EAAA;AAIjBC,MAAAA,SAAS,EAAE,CAAC;AACVC,QAAAA,OAAO,EAdiC;AAa9B,OAAD;AAJM,KAAA,CATyB;AAiB5CE,IAAAA,WAAW,EAAA,aAAA,CAAA,aAAA,CAAA;AACTL,MAAAA,cAAc,EADL,gBAAA;AAETC,MAAAA,gBAAgB,EAFP;AAAA,KAAA,EAAA,cAAA,CAAA,EAAA,EAAA,EAAA;AAITK,MAAAA,YAAY,EAAEtB,UAAU,GAJf,CAAA;AAKTkB,MAAAA,SAAS,EAAE,CAAC;AACVC,QAAAA,OAAO,EAvBiC;AAsB9B,OAAD;AALF,KAAA,CAjBiC;AA0B5CI,IAAAA,YAAY,EAAA,aAAA,CAAA,aAAA,CAAA;AACVP,MAAAA,cAAc,EADJ,gBAAA;AAEVC,MAAAA,gBAAgB,EAFN;AAAA,KAAA,EAAA,cAAA,CAAA,EAAA,EAAA,EAAA;AAIVC,MAAAA,SAAS,EAAE,CAAC;AACVC,QAAAA,OAAO,EAAExB,MAAM,CAANA,WAAAA,CAAmB;AAC1B6B,UAAAA,UAAU,EAAE,CAAA,CAAA,EADc,CACd,CADc;AAE1BC,UAAAA,WAAW,EAAE,CAAA,MAAA,EAjCrB,QAiCqB;AAFa,SAAnB9B;AADC,OAAD;AAJD,KAAA;AA1BgC,GAA/BlB,CAAf;;AAuCA,MAAIiD,QAAQ,GAAG,CAAC9C,GAAG,GAAGC,GAAG,GAAGD,GAAG,GAAN,GAAA,GAAN,GAAA,GAAJ,GAAA,IAAf,CAAA;;AAEA,MAAM+C,SAAS,GAATA,SAAAA,SAAAA,CAAY,OAAZA,EAAY,YAAZA,EAAuC;AAC3C,QAAMC,QAAQ,GAAGC,YAAY,GAAGC,OAAO,GAAPA,GAAAA,GAAhC,QAAA;AACA,WAAO;AACLZ,MAAAA,SAAS,EAAE,CAAC;AACVC,QAAAA,OAAO,EAAES,QAAQ,GAFrB;AACc,OAAD;AADN,KAAP;AAFF,GAAA;;AASA,MAAMG,gBAAgB,GAAhBA,SAAAA,gBAAAA,CAAmB,OAAnBA,EAA8B;AAClC,QAAID,OAAO,GAAX,QAAA,EAAwB;AACtB,aAAoBpE,MAAAA,WAAAA,CAAAA,aAAAA,CAA6BI,IAA7BJ,WAAAA,EAA2C;AAC7DsE,QAAAA,cAAc,EAAE/C,QAAQ,CADqC,KAAA;AAE7DgD,QAAAA,gBAAgB,EAAEhD,QAAQ,CAFmC,KAAA;AAG7DiD,QAAAA,KAAK,EAAE,CAACpB,MAAM,CAAP,mBAAA,EAA6Ba,SAAS,CAACG,OAAO,GAAR,QAAA,EAH/C,EAG+C,CAAtC;AAHsD,OAA3CpE,CAApB;AADF,KAAA,MAMO;AACL,aAAoBA,MAAAA,WAAAA,CAAAA,aAAAA,CAA6BI,IAA7BJ,WAAAA,EAA2C;AAC7DsE,QAAAA,cAAc,EAAE/C,QAAQ,CADqC,UAAA;AAE7DgD,QAAAA,gBAAgB,EAAEhD,QAAQ,CAFmC,UAAA;AAG7DiD,QAAAA,KAAK,EAAEpB,MAAM,CAHf;AAA+D,OAA3CpD,CAApB;AAMH;AAdD,GAAA;;AAgBA,MAAA,uBAAA;;AAEA,MAAIL,KAAK,GAAT,QAAA,EAAsB;AACpB8E,IAAAA,uBAAuB,GAAGR,SAAS,CAAA,QAAA,EAAW,CAA9CQ,GAAmC,CAAnCA;AADF,GAAA,MAEO;AACLA,IAAAA,uBAAuB,GAAGR,SAAS,CAAA,KAAA,EAAQ,CAA3CQ,GAAmC,CAAnCA;AAIF;;AAAA,MAAI,CAAC,GAAGnE,sBAAsB,CAA1B,qBAAA,EAAJ,KAAI,CAAJ,EAA8D;AAC5D,WAAA,IAAA;AAGF;;AAAA,SAAoBN,MAAAA,WAAAA,CAAAA,aAAAA,CAA6BI,IAA7BJ,WAAAA,EAA2CS,QAAQ,CAAA,EAAA,EAAA,SAAA,EAAgB;AACrFiE,IAAAA,OAAO,EAAEpC,UAAU,GADkE,CAAA;AAErFqC,IAAAA,WAAW,EAF0E,gBAAA;AAGrFC,IAAAA,WAAW,EAAErD,QAAQ,CAHgE,UAAA;AAIrFsD,IAAAA,cAAc,EAJuE,QAAA;AAKrFC,IAAAA,UAAU,EAL2D;AAAgB,GAAhB,EAAA,cAAA,EAMpD;AACjBC,IAAAA,GAAG,EADc,GAAA;AAEjBC,IAAAA,UAAU,EAFO,IAAA;AAGjBC,IAAAA,iBAAiB,EAHA,aAAA;AAIjBC,IAAAA,kBAAkB,EAAE;AAClB/D,MAAAA,GAAG,EADe,GAAA;AAElBD,MAAAA,GAAG,EAFe,GAAA;AAGlBiE,MAAAA,GAAG,EAbanF;AAUE;AAJH,GANoD,CAAnDA,EAehB,CAAA,eAAA,GAAgCA,MAAAA,WAAAA,CAAAA,aAAAA,CAA6BA,MAAAA,WAAAA,CAA7BA,QAAAA,EAAAA,IAAAA,EAAyEA,MAAAA,WAAAA,CAAAA,aAAAA,CAA6BI,IAA7BJ,WAAAA,EAA2C;AACtJoF,IAAAA,QAAQ,EAD8I,MAAA;AAEtJd,IAAAA,cAAc,EAAE/C,QAAQ,CAF8H,KAAA;AAGtJgD,IAAAA,gBAAgB,EAAEhD,QAAQ,CAH4H,KAAA;AAItJiD,IAAAA,KAAK,EAAE,CAACpB,MAAM,CAAP,kBAAA,EAJ2BpD,uBAI3B;AAJ+I,GAA3CA,CAAzEA,EAKhCqE,gBAAgB,CALgBrE,KAKhB,CALgBA,EAKMA,MAAAA,WAAAA,CAAAA,aAAAA,CAA6BI,IAA7BJ,WAAAA,EAA2C;AACnFqF,IAAAA,KAAK,EAAE9D,QAAQ,CADyBvB;AAA2C,GAA3CA,EAEvCwB,cAAc,CAPb,QAKsCxB,CALNA,CAAhC,GAOwCA,MAAAA,WAAAA,CAAAA,aAAAA,CAAAA,iBAAAA,EAAgD;AAC1FoF,IAAAA,QAAQ,EADkF,MAAA;AAE1Fd,IAAAA,cAAc,EAAE/C,QAAQ,CAFkE,KAAA;AAG1FgD,IAAAA,gBAAgB,EAAEhD,QAAQ,CAHgE,KAAA;AAI1FiD,IAAAA,KAAK,EAAEpB,MAAM,CA1Bf;AAsB4F,GAAhDpD,CAtBxBA,CAApB;AAxJF,CAAA;;AAsLA,IAAIsF,QAAQ,GAAgBtF,MAAAA,WAAAA,CAAAA,IAAAA,CAAkCA,MAAAA,WAAAA,CAAAA,UAAAA,CAA9D,gBAA8DA,CAAlCA,CAA5B;;AAEAJ,OAAAA,WAAAA,GAAAA,QAAAA","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _lodash = _interopRequireDefault(require(\"lodash.get\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _styled = require(\"../../../utils/styled\");\n\nvar _hooks = require(\"../../../hooks\");\n\nvar _utils = require(\"../../../utils\");\n\nvar _Box = _interopRequireDefault(require(\"../../primitives/Box\"));\n\nvar _theme = require(\"../../../theme\");\n\nvar _useHasResponsiveProps = require(\"../../../hooks/useHasResponsiveProps\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nconst StyleAnimatedView = (0, _styled.makeStyledComponent)(_reactNative.Animated.View);\n\nconst CircularProgress = ({\n  value,\n  isIndeterminate,\n  max,\n  min,\n  ...props\n}, ref) => {\n  const theme = (0, _hooks.useTheme)();\n  const isDomUsable = (0, _utils.canUseDom)();\n\n  if (min) {\n    value = value - min;\n  }\n\n  let sizeProps;\n  let newProps = (0, _hooks.useThemeProps)('CircularProgress', props);\n\n  let [, remainingProps] = _theme.themeTools.extractInObject(props, ['size']); // removing size from props so that Box don't accept size passed for CircularProgress\n\n\n  if (!newProps.size) {\n    sizeProps = {\n      height: newProps.height,\n      width: newProps.width\n    };\n  } else {\n    sizeProps = {\n      height: newProps.size,\n      width: newProps.size\n    };\n  } // fetching size from theme for passing into style prop\n\n\n  const themeHeight = (0, _lodash.default)(theme, 'space.' + sizeProps.height);\n  const themeWidth = (0, _lodash.default)(theme, 'space.' + sizeProps.width);\n  const styleSize = {\n    height: themeHeight ? parseInt(themeHeight.slice(themeHeight.Length, -2), 10) : sizeProps.height,\n    width: themeWidth ? parseInt(themeWidth.slice(themeWidth.Length, -2), 10) : sizeProps.width\n  };\n  const defaultThickness = newProps.thickness;\n  const degree = new _reactNative.Animated.Value(0);\n\n  if (isIndeterminate) {\n    if (isDomUsable) {\n      _reactNative.Animated.loop(_reactNative.Animated.timing(degree, {\n        toValue: 1,\n        duration: 600,\n        easing: _reactNative.Easing.linear,\n        useNativeDriver: false\n      })).start();\n    }\n  }\n\n  const [viewHeight, setViewHeight] = _react.default.useState(0);\n\n  const layout = e => {\n    let height = e.nativeEvent.layout.height;\n    setViewHeight(height);\n  };\n\n  const defaultStyling = {\n    borderBottomLeftRadius: viewHeight / 2,\n    borderBottomRightRadius: viewHeight / 2,\n    borderTopLeftRadius: viewHeight / 2,\n    borderTopRightRadius: viewHeight / 2,\n    borderLeftWidth: defaultThickness,\n    borderBottomWidth: defaultThickness,\n    position: 'absolute',\n    borderLeftColor: 'transparent',\n    borderBottomColor: 'transparent',\n    ...styleSize\n  };\n\n  const styles = _reactNative.StyleSheet.create({\n    firstProgressLayer: {\n      borderTopWidth: defaultThickness,\n      borderRightWidth: defaultThickness,\n      ...defaultStyling,\n      transform: [{\n        rotateZ: '-135deg'\n      }]\n    },\n    secondProgressLayer: {\n      borderTopWidth: defaultThickness,\n      borderRightWidth: defaultThickness,\n      ...defaultStyling,\n      transform: [{\n        rotateZ: '45deg'\n      }]\n    },\n    offsetLayer: {\n      borderTopWidth: defaultThickness,\n      borderRightWidth: defaultThickness,\n      ...defaultStyling,\n      borderRadius: viewHeight / 2,\n      transform: [{\n        rotateZ: '-135deg'\n      }]\n    },\n    animateStyle: {\n      borderTopWidth: defaultThickness,\n      borderRightWidth: defaultThickness,\n      ...defaultStyling,\n      transform: [{\n        rotateZ: degree.interpolate({\n          inputRange: [0, 1],\n          outputRange: ['0deg', '360deg']\n        })\n      }]\n    }\n  });\n\n  let halfSide = (max ? min ? max - min : max : 100) / 2; // calculating the halfvalue of the progress according to min and max\n\n  const propStyle = (percent, base_degrees) => {\n    const rotateBy = base_degrees + percent * 180 / halfSide;\n    return {\n      transform: [{\n        rotateZ: rotateBy + 'deg'\n      }]\n    };\n  };\n\n  const renderThirdLayer = percent => {\n    if (percent > halfSide) {\n      return /*#__PURE__*/_react.default.createElement(_Box.default, {\n        borderTopColor: newProps.color,\n        borderRightColor: newProps.color,\n        style: [styles.secondProgressLayer, propStyle(percent - halfSide, 45)]\n      });\n    } else {\n      return /*#__PURE__*/_react.default.createElement(_Box.default, {\n        borderTopColor: newProps.trackColor,\n        borderRightColor: newProps.trackColor,\n        style: styles.offsetLayer\n      });\n    }\n  };\n\n  let firstProgressLayerStyle;\n\n  if (value > halfSide) {\n    firstProgressLayerStyle = propStyle(halfSide, -135);\n  } else {\n    firstProgressLayerStyle = propStyle(value, -135);\n  } //TODO: refactor for responsive prop\n\n\n  if ((0, _useHasResponsiveProps.useHasResponsiveProps)(props)) {\n    return null;\n  }\n\n  return /*#__PURE__*/_react.default.createElement(_Box.default, _extends({}, sizeProps, {\n    rounded: viewHeight / 2,\n    borderWidth: defaultThickness,\n    borderColor: newProps.trackColor,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  }, remainingProps, {\n    ref: ref,\n    accessible: true,\n    accessibilityRole: \"progressbar\",\n    accessibilityValue: {\n      min,\n      max,\n      now: value\n    }\n  }), !isIndeterminate ? /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(_Box.default, {\n    onLayout: layout,\n    borderTopColor: newProps.color,\n    borderRightColor: newProps.color,\n    style: [styles.firstProgressLayer, firstProgressLayerStyle]\n  }), renderThirdLayer(value), /*#__PURE__*/_react.default.createElement(_Box.default, {\n    _text: newProps._text\n  }, remainingProps.children)) : /*#__PURE__*/_react.default.createElement(StyleAnimatedView, {\n    onLayout: layout,\n    borderTopColor: newProps.color,\n    borderRightColor: newProps.color,\n    style: styles.animateStyle\n  }));\n};\n\nvar _default = /*#__PURE__*/_react.default.memo( /*#__PURE__*/_react.default.forwardRef(CircularProgress));\n\nexports.default = _default;\n//# sourceMappingURL=CircularProgress.js.map"]},"metadata":{},"sourceType":"script"}