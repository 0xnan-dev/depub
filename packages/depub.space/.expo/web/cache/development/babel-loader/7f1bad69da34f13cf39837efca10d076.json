{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"@babel/runtime/helpers/slicedToArray\");\n\nvar _objectWithoutProperties = require(\"@babel/runtime/helpers/objectWithoutProperties\");\n\nvar _excluded = [\"label\", \"children\", \"onClose\", \"onOpen\", \"defaultIsOpen\", \"placement\", \"openDelay\", \"closeDelay\", \"closeOnClick\", \"offset\", \"isDisabled\", \"hasArrow\", \"arrowSize\", \"isOpen\"];\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Tooltip = void 0;\n\nvar _overlays = require(\"@react-native-aria/overlays\");\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _hooks = require(\"../../../hooks\");\n\nvar _Popper = require(\"../Popper\");\n\nvar _utils = require(\"../../../utils\");\n\nvar _Transitions = require(\"../Transitions\");\n\nvar _reactNative = require(\"react-native-web/dist/index\");\n\nvar _Box = _interopRequireDefault(require(\"../../primitives/Box\"));\n\nvar _utils2 = require(\"@react-aria/utils\");\n\nvar _useHasResponsiveProps = require(\"../../../hooks/useHasResponsiveProps\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar Tooltip = function Tooltip(_ref3) {\n  var label = _ref3.label,\n      children = _ref3.children,\n      onClose = _ref3.onClose,\n      onOpen = _ref3.onOpen,\n      defaultIsOpen = _ref3.defaultIsOpen,\n      placement = _ref3.placement,\n      _ref3$openDelay = _ref3.openDelay,\n      openDelay = _ref3$openDelay === void 0 ? 0 : _ref3$openDelay,\n      _ref3$closeDelay = _ref3.closeDelay,\n      closeDelay = _ref3$closeDelay === void 0 ? 0 : _ref3$closeDelay,\n      _ref3$closeOnClick = _ref3.closeOnClick,\n      closeOnClick = _ref3$closeOnClick === void 0 ? true : _ref3$closeOnClick,\n      offset = _ref3.offset,\n      isDisabled = _ref3.isDisabled,\n      hasArrow = _ref3.hasArrow,\n      _ref3$arrowSize = _ref3.arrowSize,\n      arrowSize = _ref3$arrowSize === void 0 ? 12 : _ref3$arrowSize,\n      isOpenProp = _ref3.isOpen,\n      props = _objectWithoutProperties(_ref3, _excluded);\n\n  var _ref, _ref2, _props$backgroundColo;\n\n  if (hasArrow && offset === undefined) {\n    offset = 0;\n  } else {\n    offset = 6;\n  }\n\n  var resolvedProps = (0, _hooks.usePropsResolution)('Tooltip', props);\n\n  var _ref4 = (0, _hooks.useControllableState)({\n    value: isOpenProp,\n    defaultValue: defaultIsOpen,\n    onChange: function onChange(value) {\n      value ? onOpen && onOpen() : onClose && onClose();\n    }\n  }),\n      _ref5 = _slicedToArray(_ref4, 2),\n      isOpen = _ref5[0],\n      setIsOpen = _ref5[1];\n\n  var arrowBg = (_ref = (_ref2 = (_props$backgroundColo = props.backgroundColor) !== null && _props$backgroundColo !== void 0 ? _props$backgroundColo : props.bgColor) !== null && _ref2 !== void 0 ? _ref2 : props.bg) !== null && _ref !== void 0 ? _ref : resolvedProps.bg;\n\n  var targetRef = _react[\"default\"].useRef(null);\n\n  var enterTimeout = _react[\"default\"].useRef();\n\n  var exitTimeout = _react[\"default\"].useRef();\n\n  var tooltipID = (0, _utils2.useId)();\n\n  var openWithDelay = _react[\"default\"].useCallback(function () {\n    if (!isDisabled) {\n      enterTimeout.current = setTimeout(function () {\n        return setIsOpen(true);\n      }, openDelay);\n    }\n  }, [isDisabled, setIsOpen, openDelay]);\n\n  var closeWithDelay = _react[\"default\"].useCallback(function () {\n    if (enterTimeout.current) {\n      clearTimeout(enterTimeout.current);\n    }\n\n    exitTimeout.current = setTimeout(function () {\n      return setIsOpen(false);\n    }, closeDelay);\n  }, [closeDelay, setIsOpen]);\n\n  _react[\"default\"].useEffect(function () {\n    return function () {\n      clearTimeout(enterTimeout.current);\n      clearTimeout(exitTimeout.current);\n    };\n  }, []);\n\n  var newChildren = children;\n\n  if (typeof children === 'string') {\n    newChildren = _react[\"default\"].createElement(_Box[\"default\"], null, children);\n  }\n\n  newChildren = _react[\"default\"].cloneElement(newChildren, {\n    'onPress': (0, _utils.composeEventHandlers)(newChildren.props.onPress, function () {\n      if (closeOnClick) {\n        closeWithDelay();\n      }\n    }),\n    'onFocus': (0, _utils.composeEventHandlers)(newChildren.props.onFocus, openWithDelay),\n    'onBlur': (0, _utils.composeEventHandlers)(newChildren.props.onBlur, closeWithDelay),\n    'onMouseEnter': (0, _utils.composeEventHandlers)(newChildren.props.onMouseEnter, openWithDelay),\n    'onMouseLeave': (0, _utils.composeEventHandlers)(newChildren.props.onMouseLeave, closeWithDelay),\n    'ref': (0, _utils.mergeRefs)([newChildren.ref, targetRef]),\n    'aria-describedby': isOpen ? tooltipID : undefined\n  });\n  (0, _hooks.useKeyboardDismissable)({\n    enabled: isOpen,\n    callback: function callback() {\n      return setIsOpen(false);\n    }\n  });\n\n  if ((0, _useHasResponsiveProps.useHasResponsiveProps)(props)) {\n    return null;\n  }\n\n  return _react[\"default\"].createElement(_react[\"default\"].Fragment, null, newChildren, isOpen && _react[\"default\"].createElement(_overlays.OverlayContainer, null, _react[\"default\"].createElement(_Transitions.PresenceTransition, {\n    initial: {\n      opacity: 0\n    },\n    animate: {\n      opacity: 1,\n      transition: {\n        duration: 150\n      }\n    },\n    exit: {\n      opacity: 0,\n      transition: {\n        duration: 100\n      }\n    },\n    visible: isOpen,\n    style: _reactNative.StyleSheet.absoluteFill\n  }, _react[\"default\"].createElement(_Popper.Popper, {\n    triggerRef: targetRef,\n    onClose: function onClose() {\n      return setIsOpen(false);\n    },\n    placement: placement,\n    offset: offset\n  }, _react[\"default\"].createElement(_Popper.Popper.Content, null, hasArrow && _react[\"default\"].createElement(_Popper.Popper.Arrow, {\n    borderColor: \"transparent\",\n    backgroundColor: arrowBg,\n    height: arrowSize,\n    width: arrowSize\n  }), _react[\"default\"].createElement(_Box[\"default\"], _extends({}, resolvedProps, {\n    accessibilityRole: _reactNative.Platform.OS === 'web' ? 'tooltip' : undefined,\n    nativeID: tooltipID\n  }), label))))));\n};\n\nexports.Tooltip = Tooltip;","map":{"version":3,"sources":["/media/disk1/projects/depub.space/node_modules/native-base/lib/commonjs/components/composites/Tooltip/Tooltip.js"],"names":["Object","value","exports","_overlays","require","_react","_interopRequireDefault","_hooks","_Popper","_utils","_Transitions","_Box","_utils2","_useHasResponsiveProps","obj","default","_extends","i","arguments","source","target","Tooltip","label","children","onClose","onOpen","defaultIsOpen","placement","openDelay","closeDelay","closeOnClick","offset","isDisabled","hasArrow","arrowSize","isOpen","isOpenProp","props","resolvedProps","setIsOpen","defaultValue","onChange","arrowBg","_ref","_ref2","_props$backgroundColo","targetRef","enterTimeout","exitTimeout","tooltipID","openWithDelay","setTimeout","closeWithDelay","clearTimeout","newChildren","enabled","callback","initial","opacity","animate","transition","duration","exit","visible","style","_reactNative","triggerRef","borderColor","backgroundColor","height","width","accessibilityRole","nativeID"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Tooltip = void 0;\n\nvar _overlays = require(\"@react-native-aria/overlays\");\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _hooks = require(\"../../../hooks\");\n\nvar _Popper = require(\"../Popper\");\n\nvar _utils = require(\"../../../utils\");\n\nvar _Transitions = require(\"../Transitions\");\n\nvar _reactNative = require(\"react-native\");\n\nvar _Box = _interopRequireDefault(require(\"../../primitives/Box\"));\n\nvar _utils2 = require(\"@react-aria/utils\");\n\nvar _useHasResponsiveProps = require(\"../../../hooks/useHasResponsiveProps\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nconst Tooltip = ({\n  label,\n  children,\n  onClose,\n  onOpen,\n  defaultIsOpen,\n  placement,\n  openDelay = 0,\n  closeDelay = 0,\n  closeOnClick = true,\n  offset,\n  isDisabled,\n  hasArrow,\n  arrowSize = 12,\n  isOpen: isOpenProp,\n  ...props\n}) => {\n  var _ref, _ref2, _props$backgroundColo;\n\n  if (hasArrow && offset === undefined) {\n    offset = 0;\n  } else {\n    offset = 6;\n  }\n\n  const resolvedProps = (0, _hooks.usePropsResolution)('Tooltip', props);\n  const [isOpen, setIsOpen] = (0, _hooks.useControllableState)({\n    value: isOpenProp,\n    defaultValue: defaultIsOpen,\n    onChange: value => {\n      value ? onOpen && onOpen() : onClose && onClose();\n    }\n  });\n  const arrowBg = (_ref = (_ref2 = (_props$backgroundColo = props.backgroundColor) !== null && _props$backgroundColo !== void 0 ? _props$backgroundColo : props.bgColor) !== null && _ref2 !== void 0 ? _ref2 : props.bg) !== null && _ref !== void 0 ? _ref : resolvedProps.bg;\n\n  const targetRef = _react.default.useRef(null);\n\n  const enterTimeout = _react.default.useRef();\n\n  const exitTimeout = _react.default.useRef();\n\n  const tooltipID = (0, _utils2.useId)();\n\n  const openWithDelay = _react.default.useCallback(() => {\n    if (!isDisabled) {\n      enterTimeout.current = setTimeout(() => setIsOpen(true), openDelay);\n    }\n  }, [isDisabled, setIsOpen, openDelay]);\n\n  const closeWithDelay = _react.default.useCallback(() => {\n    if (enterTimeout.current) {\n      clearTimeout(enterTimeout.current);\n    }\n\n    exitTimeout.current = setTimeout(() => setIsOpen(false), closeDelay);\n  }, [closeDelay, setIsOpen]);\n\n  _react.default.useEffect(() => () => {\n    clearTimeout(enterTimeout.current);\n    clearTimeout(exitTimeout.current);\n  }, []);\n\n  let newChildren = children;\n\n  if (typeof children === 'string') {\n    newChildren = /*#__PURE__*/_react.default.createElement(_Box.default, null, children);\n  }\n\n  newChildren = /*#__PURE__*/_react.default.cloneElement(newChildren, {\n    'onPress': (0, _utils.composeEventHandlers)(newChildren.props.onPress, () => {\n      if (closeOnClick) {\n        closeWithDelay();\n      }\n    }),\n    'onFocus': (0, _utils.composeEventHandlers)(newChildren.props.onFocus, openWithDelay),\n    'onBlur': (0, _utils.composeEventHandlers)(newChildren.props.onBlur, closeWithDelay),\n    'onMouseEnter': (0, _utils.composeEventHandlers)(newChildren.props.onMouseEnter, openWithDelay),\n    'onMouseLeave': (0, _utils.composeEventHandlers)(newChildren.props.onMouseLeave, closeWithDelay),\n    'ref': (0, _utils.mergeRefs)([newChildren.ref, targetRef]),\n    'aria-describedby': isOpen ? tooltipID : undefined\n  });\n  (0, _hooks.useKeyboardDismissable)({\n    enabled: isOpen,\n    callback: () => setIsOpen(false)\n  }); //TODO: refactor for responsive prop\n\n  if ((0, _useHasResponsiveProps.useHasResponsiveProps)(props)) {\n    return null;\n  }\n\n  return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, newChildren, isOpen && /*#__PURE__*/_react.default.createElement(_overlays.OverlayContainer, null, /*#__PURE__*/_react.default.createElement(_Transitions.PresenceTransition, {\n    initial: {\n      opacity: 0\n    },\n    animate: {\n      opacity: 1,\n      transition: {\n        duration: 150\n      }\n    },\n    exit: {\n      opacity: 0,\n      transition: {\n        duration: 100\n      }\n    },\n    visible: isOpen,\n    style: _reactNative.StyleSheet.absoluteFill\n  }, /*#__PURE__*/_react.default.createElement(_Popper.Popper, {\n    triggerRef: targetRef,\n    onClose: () => setIsOpen(false),\n    placement: placement,\n    offset: offset\n  }, /*#__PURE__*/_react.default.createElement(_Popper.Popper.Content, null, hasArrow && /*#__PURE__*/_react.default.createElement(_Popper.Popper.Arrow, {\n    borderColor: \"transparent\",\n    backgroundColor: arrowBg,\n    height: arrowSize,\n    width: arrowSize\n  }), /*#__PURE__*/_react.default.createElement(_Box.default, _extends({}, resolvedProps, {\n    //@ts-ignore\n    accessibilityRole: _reactNative.Platform.OS === 'web' ? 'tooltip' : undefined,\n    nativeID: tooltipID\n  }), label))))));\n};\n\nexports.Tooltip = Tooltip;\n//# sourceMappingURL=Tooltip.js.map"]},"metadata":{},"sourceType":"script"}