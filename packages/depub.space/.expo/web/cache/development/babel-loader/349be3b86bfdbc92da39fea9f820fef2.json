{"ast":null,"code":"import _defineProperty from \"/media/disk1/projects/depub.space/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/media/disk1/projects/depub.space/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/media/disk1/projects/depub.space/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"endingHeight\", \"startingHeight\", \"duration\", \"isOpen\", \"onAnimationEnd\", \"onAnimationStart\"];\n\nvar _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport isNil from 'lodash.isnil';\nimport React, { useEffect, useRef, forwardRef } from 'react';\nimport LayoutAnimation from \"react-native-web/dist/exports/LayoutAnimation\";\nimport UIManager from \"react-native-web/dist/exports/UIManager\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { Box } from \"../../primitives\";\nimport { useHasResponsiveProps } from \"../../../hooks/useHasResponsiveProps\";\n\nfunction usePrevious(value) {\n  _s();\n\n  var ref = useRef();\n\n  function updatePrevious(newVal) {\n    ref.current = newVal;\n  }\n\n  useEffect(function () {\n    updatePrevious(value);\n  }, [value]);\n  return {\n    value: ref.current,\n    updatePrevious: updatePrevious\n  };\n}\n\n_s(usePrevious, \"8uVE59eA/r6b92xF80p7sH8rXLk=\");\n\nvar Collapse = function Collapse(_ref, ref) {\n  _s2();\n\n  var endingHeight = _ref.endingHeight,\n      startingHeight = _ref.startingHeight,\n      duration = _ref.duration,\n      isOpen = _ref.isOpen,\n      onAnimationEnd = _ref.onAnimationEnd,\n      onAnimationStart = _ref.onAnimationStart,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  if (Platform.OS === 'android') {\n    UIManager.setLayoutAnimationEnabledExperimental && UIManager.setLayoutAnimationEnabledExperimental(true);\n  }\n\n  var CustomLayoutLinear = {\n    duration: duration ? duration : 400,\n    create: {\n      type: LayoutAnimation.Types.easeInEaseOut,\n      property: LayoutAnimation.Properties.opacity\n    },\n    update: {\n      type: LayoutAnimation.Types.easeInEaseOut\n    }\n  };\n  var defaultStartHeight = isOpen ? endingHeight : startingHeight ? startingHeight : 1;\n  var animatedStyle = {\n    height: defaultStartHeight\n  };\n\n  var animateView = function animateView() {\n    if (onAnimationStart) {\n      onAnimationStart();\n    }\n\n    animatedStyle = {\n      height: isOpen ? endingHeight : defaultStartHeight\n    };\n    var callback = onAnimationEnd ? onAnimationEnd : function () {};\n    LayoutAnimation.configureNext(CustomLayoutLinear, callback());\n  };\n\n  var wasOpen = usePrevious(isOpen);\n\n  if (!isNil(wasOpen.value) && wasOpen.value !== isOpen) {\n    animateView();\n    wasOpen.updatePrevious(isOpen);\n  }\n\n  var _React$useState = React.useState(startingHeight !== null && startingHeight !== void 0 ? startingHeight : 0),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      size = _React$useState2[0],\n      setSize = _React$useState2[1];\n\n  var provideSize = function provideSize(layoutSize) {\n    setSize(layoutSize.height);\n  };\n\n  var _web = {\n    transition: \"height \".concat(duration !== null && duration !== void 0 ? duration : '400', \"ms\"),\n    height: isOpen ? endingHeight || size : startingHeight || 0\n  };\n\n  if (useHasResponsiveProps(props)) {\n    return null;\n  }\n\n  return React.createElement(Box, {\n    style: _objectSpread(_objectSpread({}, animatedStyle), Platform.OS === 'web' && _web),\n    overflow: \"hidden\",\n    ref: ref\n  }, React.createElement(Box, _extends({\n    overflow: Platform.OS === 'web' ? 'auto' : 'scroll',\n    onLayout: function onLayout(e) {\n      return provideSize(e.nativeEvent.layout);\n    }\n  }, props)));\n};\n\n_s2(Collapse, \"xxJB3uykSGTm/XK5l6WUFnAwq94=\", false, function () {\n  return [usePrevious, useHasResponsiveProps];\n});\n\n_c = Collapse;\nexport default _c3 = React.memo(_c2 = forwardRef(Collapse));\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Collapse\");\n$RefreshReg$(_c2, \"%default%$React.memo\");\n$RefreshReg$(_c3, \"%default%\");\n;\n\nvar _a, _b;\n\nif (typeof self !== 'undefined' && '$RefreshHelpers$' in self) {\n  var currentExports = module.__proto__.exports;\n  var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n  self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n\n  if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n    module.hot.dispose(function (data) {\n      data.prevExports = currentExports;\n    });\n    module.hot.accept();\n\n    if (prevExports !== null) {\n      if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n        module.hot.invalidate();\n      } else {\n        self.$RefreshHelpers$.scheduleUpdate();\n      }\n    }\n  } else {\n    var isNoLongerABoundary = prevExports !== null;\n\n    if (isNoLongerABoundary) {\n      module.hot.invalidate();\n    }\n  }\n}","map":{"version":3,"sources":["/media/disk1/projects/depub.space/node_modules/native-base/lib/module/components/composites/Collapse/index.js"],"names":["_extends","Object","i","arguments","source","target","usePrevious","ref","useRef","useEffect","updatePrevious","value","Collapse","endingHeight","startingHeight","duration","isOpen","onAnimationEnd","onAnimationStart","props","Platform","UIManager","CustomLayoutLinear","create","type","LayoutAnimation","property","update","defaultStartHeight","animatedStyle","height","animateView","callback","wasOpen","isNil","size","setSize","React","provideSize","layoutSize","_web","transition","useHasResponsiveProps","style","overflow","onLayout","e","forwardRef"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport isNil from 'lodash.isnil';\nimport React, { useEffect, useRef, forwardRef } from 'react';\nimport { LayoutAnimation, UIManager, Platform } from 'react-native';\nimport { Box } from '../../primitives';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\n\nfunction usePrevious(value) {\n  const ref = useRef();\n\n  function updatePrevious(newVal) {\n    ref.current = newVal;\n  }\n\n  useEffect(() => {\n    updatePrevious(value);\n  }, [value]);\n  return {\n    value: ref.current,\n    updatePrevious\n  };\n}\n\nconst Collapse = ({\n  endingHeight,\n  startingHeight,\n  duration,\n  // animateOpacity,\n  isOpen,\n  onAnimationEnd,\n  onAnimationStart,\n  ...props\n}, ref) => {\n  if (Platform.OS === 'android') {\n    UIManager.setLayoutAnimationEnabledExperimental && UIManager.setLayoutAnimationEnabledExperimental(true);\n  }\n\n  const CustomLayoutLinear = {\n    duration: duration ? duration : 400,\n    create: {\n      type: LayoutAnimation.Types.easeInEaseOut,\n      property: LayoutAnimation.Properties.opacity\n    },\n    update: {\n      type: LayoutAnimation.Types.easeInEaseOut\n    }\n  };\n  const defaultStartHeight = isOpen ? endingHeight : startingHeight ? startingHeight : 1;\n  let animatedStyle = {\n    height: defaultStartHeight\n  };\n\n  const animateView = () => {\n    if (onAnimationStart) {\n      onAnimationStart();\n    }\n\n    animatedStyle = {\n      height: isOpen ? endingHeight : defaultStartHeight\n    };\n    let callback = onAnimationEnd ? onAnimationEnd : () => {};\n    LayoutAnimation.configureNext(CustomLayoutLinear, callback());\n  };\n\n  let wasOpen = usePrevious(isOpen);\n\n  if (!isNil(wasOpen.value) && wasOpen.value !== isOpen) {\n    animateView();\n    wasOpen.updatePrevious(isOpen);\n  }\n\n  const [size, setSize] = React.useState(startingHeight !== null && startingHeight !== void 0 ? startingHeight : 0);\n\n  const provideSize = layoutSize => {\n    setSize(layoutSize.height);\n  };\n\n  const _web = {\n    transition: \"height \".concat(duration !== null && duration !== void 0 ? duration : '400', \"ms\"),\n    height: isOpen ? endingHeight || size : startingHeight || 0\n  }; //TODO: refactor for responsive prop\n\n  if (useHasResponsiveProps(props)) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(Box, {\n    style: { ...animatedStyle,\n      ...(Platform.OS === 'web' && _web)\n    },\n    overflow: \"hidden\",\n    ref: ref\n  }, /*#__PURE__*/React.createElement(Box //@ts-ignore\n  , _extends({\n    overflow: Platform.OS === 'web' ? 'auto' : 'scroll',\n    onLayout: e => provideSize(e.nativeEvent.layout)\n  }, props)));\n};\n\nexport default /*#__PURE__*/React.memo( /*#__PURE__*/forwardRef(Collapse));\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"module"}